# 
# Render Helm Cahrt
#

name: simple-chat - render list.yaml

on:
  push:
    branches: 
      - '**'
    paths:
      - simple-chart/**
      - .github/workflows/simple-chart*
  workflow_dispatch:

jobs:

  checkout:
    runs-on: ubuntu-latest
    steps:
      # Check-out repo under $GITHUB_WORKSPACE
      - uses: actions/checkout@v3
        name: Checkout

  render-list:
    runs-on: ubuntu-latest
    needs: checkout
    steps:
      - name: Render list
        run: helm template simple-chart -s templates/list.yaml

  render-env-var-json:
    runs-on: ubuntu-latest
    needs: checkout
    steps:
      - name: Render JSON from environment varriable
        run: |
          helm template simple-chart -s templates/env.yaml --set env.solution_4='"ernie": "123"'
